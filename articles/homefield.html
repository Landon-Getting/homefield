<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="homefield">
<title>Getting started with homefield • homefield</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started with homefield">
<meta property="og:description" content="homefield">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">homefield</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/homefield.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Landon-Getting/homefield/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting started with homefield</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Landon-Getting/homefield/blob/HEAD/vignettes/homefield.Rmd" class="external-link"><code>vignettes/homefield.Rmd</code></a></small>
      <div class="d-none name"><code>homefield.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The homefield package helps gather data and create visuals to show
spatial relevance of entities. By producing engaging graphics, homefield
can answer questions like:</p>
<ul>
<li>Which teams are remaining in the March Madness basketball
tournament?</li>
<li>Where was each U.S. President from?</li>
<li>What teams are undefeated in college football?</li>
</ul>
<p>For example, homefield can query online databases to determine which
football teams were undefeated in the fourth week of the 1999 season and
then generate a map where the teams are represented by their school
colors and logo.</p>
<p><img src="https://github.com/Landon-Getting/homefield-graphics/blob/main/undefeated_map.png?raw=true"></p>
<hr>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<ol style="list-style-type: decimal">
<li><p>Install <a href="https://posit.co/download/rstudio-desktop/" class="external-link">R
and R Studio</a>.</p></li>
<li><p>Install the latest compatible version of <a href="https://cran.r-project.org/bin/windows/Rtools/" class="external-link">RTools</a>.</p></li>
<li><p>Install the devtools package.</p></li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Install the homefield package via the Github repository.</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"Landon-Getting/homefield"</span><span class="op">)</span></span></code></pre></div>
<p><em>homefield relies on two online databases for up-to-date college
football and census information. These databases require API keys which
can be requested and installed via the following instructions:</em></p>
<ol start="5" style="list-style-type: decimal">
<li><p>Follow the directions <a href="https://cfbfastr.sportsdataverse.org/#college-football-data-api-keys" class="external-link">here</a>
to receive and install a College Football Data API Key. Required for
<code><a href="../reference/cfb_undefeated.html">homefield::cfb_undefeated()</a></code> and
<code><a href="../reference/cfb_conquest.html">homefield::cfb_conquest()</a></code>.</p></li>
<li><p>Follow the directions <a href="https://walker-data.com/tidycensus/reference/census_api_key.html" class="external-link">here</a>
to receive and install a CENSUS API Key. Required for
<code><a href="../reference/homefield_stats.html">homefield::homefield_stats()</a></code>.</p></li>
<li><p>Once the package and keys have been installed, homefield can be
initialized in an environment via <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>:</p></li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/Landon-Getting/homfield/" class="external-link">homefield</a></span><span class="op">)</span></span>
<span><span class="co"># your code here</span></span></code></pre></div>
<hr>
</div>
<div class="section level2">
<h2 id="homefield_map">homefield_map()<a class="anchor" aria-label="anchor" href="#homefield_map"></a>
</h2>
<p><code><a href="../reference/homefield_map.html">homefield_map()</a></code> is the crux of the homefield package. It
uses structured data about <strong>entities</strong> and generates a
homefield map. <code><a href="../reference/homefield_map.html">homefield_map()</a></code> colors counties based on the
closest entity and adds an image representing the entity over large
groups of counties.</p>
<p><strong>Entities</strong> can be sports teams, political candidates,
businesses, or anything that might be represented spatially or possess
territory. Users can create their own data describing entities or use
other homefield package functions like <code><a href="../reference/cfb_undefeated.html">cfb_undefeated()</a></code> to
generate already structured data.</p>
<p>Entities are required to have several attributes including
<em>identifier</em>, <em>latitude</em>, <em>longitude</em>,
<em>color</em>, and <em>image</em>. Each entity should be encoded as a
row in a dataframe of entities.</p>
<p>For instance, a map may be composed of sport teams. The Iowa State
Cyclones <strong>entity</strong> would have an <em>entity
identifier</em> (<code>Iowa State</code>), a *latitude**
(<code>42.0266573</code>), a <em>longitude</em>
(<code>-93.6464516</code>), a <em>color</em> (<code>#C8102E</code>), and
an <em>image</em>
(<code>http://a.espncdn.com/i/teamlogos/ncaa/500/66.png</code>).</p>
<p>A dataframe with multiple entities and their attributes may look
similar to the following:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">entity</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Iowa State Cyclones"</span>, <span class="st">"Florida Gators"</span>, <span class="st">"UCLA Bruins"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># must be valid locations</span></span>
<span><span class="va">lat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">42.01400</span>, <span class="fl">29.64994</span>, <span class="fl">34.16133</span><span class="op">)</span></span>
<span><span class="va">lng</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">93.63577</span>, <span class="op">-</span><span class="fl">82.34858</span>, <span class="op">-</span><span class="fl">118.16765</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># must be a color in hexcode format</span></span>
<span><span class="va">color</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#660015"</span>,<span class="st">"#0021A5"</span>, <span class="st">"#ffc72c"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># can be a link or local file</span></span>
<span><span class="va">image</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"http://a.espncdn.com/i/teamlogos/ncaa/500/66.png"</span>,</span>
<span>           <span class="st">"http://a.espncdn.com/i/teamlogos/ncaa/500/57.png"</span>,</span>
<span>           <span class="st">"http://a.espncdn.com/i/teamlogos/ncaa/500/26.png"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">homefield_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">entity</span>,</span>
<span>                             <span class="va">lat</span>,</span>
<span>                             <span class="va">lng</span>,</span>
<span>                             <span class="va">color</span>,</span>
<span>                             <span class="va">image</span><span class="op">)</span></span>
<span></span>
<span><span class="va">homefield_data</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;                entity      lat        lng   color</span></span>
<span><span class="co">#&gt; 1 Iowa State Cyclones 42.01400  -93.63577 #660015</span></span>
<span><span class="co">#&gt; 2      Florida Gators 29.64994  -82.34858 #0021A5</span></span>
<span><span class="co">#&gt; 3         UCLA Bruins 34.16133 -118.16765 #ffc72c</span></span>
<span><span class="co">#&gt;                                              image</span></span>
<span><span class="co">#&gt; 1 http://a.espncdn.com/i/teamlogos/ncaa/500/66.png</span></span>
<span><span class="co">#&gt; 2 http://a.espncdn.com/i/teamlogos/ncaa/500/57.png</span></span>
<span><span class="co">#&gt; 3 http://a.espncdn.com/i/teamlogos/ncaa/500/26.png</span></span></code></pre>
<p>Next, the dataframe is inputted into the <code><a href="../reference/homefield_map.html">homefield_map()</a></code>
function along with a valid local file path for saving the map.
Additionally, there are optional arguments to:</p>
<ul>
<li>
<code>threshold</code>: Change how big a territory must be to
receive an image</li>
<li>
<code>title</code>: Add a title to the map</li>
<li>
<code>credit</code>: Give credit to the map author</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/homefield_map.html">homefield_map</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">homefield_data</span>, <span class="co"># dataframe</span></span>
<span>             output_file <span class="op">=</span> <span class="st">"C:/Users/darthvader/Downloads/example_map.png"</span>, <span class="co"># save location</span></span>
<span>             threshold <span class="op">=</span> <span class="fl">10000</span>, <span class="co"># area in square km</span></span>
<span>             title <span class="op">=</span> <span class="st">"Example Map"</span>, <span class="co"># map title</span></span>
<span>             credit <span class="op">=</span> <span class="st">"Landon Getting"</span><span class="op">)</span> <span class="co"># credit for author</span></span></code></pre></div>
<p><img src="https://github.com/Landon-Getting/homefield-graphics/blob/main/example_map.png?raw=true"></p>
<p>In this case, UCLA’s territory includes most of the western U.S.
since they are located in California whereas the Florida Gators are
located in the southeast.</p>
<p>UCLA’s territory also extends to Alaska and Hawaii. Although these
regions are disconnected from their primary territory, their area is
well above the default threshold of 10,000 <span class="math inline">\(\mathrm{km^{2}}\)</span> and therefore the UCLA
image are placed at their centers.</p>
<hr>
</div>
<div class="section level2">
<h2 id="getting-data-for-homefield-maps">Getting data for homefield maps<a class="anchor" aria-label="anchor" href="#getting-data-for-homefield-maps"></a>
</h2>
<p>In the previous example, the input dataframe describing the entities
was created from scratch.</p>
<p>However, the homefield package currently provides 2 functions to
query interesting college football data directly into the structured
format: <code><a href="../reference/cfb_undefeated.html">cfb_undefeated()</a></code> and <code><a href="../reference/cfb_conquest.html">cfb_conquest()</a></code>.
Remember to complete the steps in <em>Installation</em> to receive and
install an College Football Database API key.</p>
<div class="section level3">
<h3 id="cfb_undefeated">cfb_undefeated()<a class="anchor" aria-label="anchor" href="#cfb_undefeated"></a>
</h3>
<p><code><a href="../reference/cfb_undefeated.html">cfb_undefeated()</a></code> returns a dataframe with the undefeated
teams for a particular season and week.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cfb_undefeated_s1999_w4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">1999</span>, week <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cfb_undefeated_s1999_w4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;           entity      lat        lng   color</span></span>
<span><span class="co">#&gt; 1      Air Force 38.99697 -104.84362 #004a7b</span></span>
<span><span class="co">#&gt; 2       Arkansas 36.06807  -94.17895 #9c1831</span></span>
<span><span class="co">#&gt; 3         Auburn 32.60255  -85.48975 #03244d</span></span>
<span><span class="co">#&gt; 4            BYU 40.25753 -111.65452 #001E4C</span></span>
<span><span class="co">#&gt; 5 Boston College 42.33510  -71.16644 #88001a</span></span>
<span><span class="co">#&gt; 6  East Carolina 35.59685  -77.36456 #4b1869</span></span>
<span><span class="co">#&gt;                                                     image</span></span>
<span><span class="co">#&gt; 1 http://a.espncdn.com/i/teamlogos/ncaa/500-dark/2005.png</span></span>
<span><span class="co">#&gt; 2         http://a.espncdn.com/i/teamlogos/ncaa/500/8.png</span></span>
<span><span class="co">#&gt; 3         http://a.espncdn.com/i/teamlogos/ncaa/500/2.png</span></span>
<span><span class="co">#&gt; 4  http://a.espncdn.com/i/teamlogos/ncaa/500-dark/252.png</span></span>
<span><span class="co">#&gt; 5  http://a.espncdn.com/i/teamlogos/ncaa/500-dark/103.png</span></span>
<span><span class="co">#&gt; 6       http://a.espncdn.com/i/teamlogos/ncaa/500/151.png</span></span></code></pre>
<p>The dataframe output from <code><a href="../reference/cfb_undefeated.html">cfb_undefeated()</a></code> can be used
directly in <code><a href="../reference/homefield_map.html">homefield_map()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/homefield_map.html">homefield_map</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">1999</span>, week <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>             output_file <span class="op">=</span> <span class="st">"C:/Users/darthvader/Downloads/cfb_undefeated_s2022_w4.png"</span>,</span>
<span>             title <span class="op">=</span> <span class="st">"College Football Undefeated - Season 1999 Week 4"</span>,</span>
<span>             credit <span class="op">=</span> <span class="st">"Landon Getting"</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://github.com/Landon-Getting/homefield-graphics/blob/main/undefeated_map.png?raw=true"></p>
</div>
<div class="section level3">
<h3 id="cfb_conquest">cfb_conquest()<a class="anchor" aria-label="anchor" href="#cfb_conquest"></a>
</h3>
<p>In <code><a href="../reference/cfb_conquest.html">cfb_conquest()</a></code>, teams start with the land closest to
them. As the season progresses, teams acquire the land of the teams they
defeat.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cfb_conquest_s1999_w4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/cfb_conquest.html">cfb_conquest</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">1999</span>, week <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cfb_conquest_s1999_w4</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;      entity      lat        lng   color</span></span>
<span><span class="co">#&gt; 1 Air Force 38.99697 -104.84362 #004a7b</span></span>
<span><span class="co">#&gt; 2     Akron 42.99913  -78.77751 #84754e</span></span>
<span><span class="co">#&gt; 3  Arkansas 36.06807  -94.17895 #9c1831</span></span>
<span><span class="co">#&gt; 4  Arkansas 32.83772  -96.78279 #9c1831</span></span>
<span><span class="co">#&gt; 5    Auburn 36.21143  -81.68543 #03244d</span></span>
<span><span class="co">#&gt; 6    Auburn 32.60255  -85.48975 #03244d</span></span>
<span><span class="co">#&gt;                                                     image</span></span>
<span><span class="co">#&gt; 1 http://a.espncdn.com/i/teamlogos/ncaa/500-dark/2005.png</span></span>
<span><span class="co">#&gt; 2      http://a.espncdn.com/i/teamlogos/ncaa/500/2006.png</span></span>
<span><span class="co">#&gt; 3         http://a.espncdn.com/i/teamlogos/ncaa/500/8.png</span></span>
<span><span class="co">#&gt; 4         http://a.espncdn.com/i/teamlogos/ncaa/500/8.png</span></span>
<span><span class="co">#&gt; 5         http://a.espncdn.com/i/teamlogos/ncaa/500/2.png</span></span>
<span><span class="co">#&gt; 6         http://a.espncdn.com/i/teamlogos/ncaa/500/2.png</span></span></code></pre>
<p>The dataframe output from <code><a href="../reference/cfb_conquest.html">cfb_conquest()</a></code> can be used
directly in <code><a href="../reference/homefield_map.html">homefield_map()</a></code>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/homefield_map.html">homefield_map</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/cfb_conquest.html">cfb_conquest</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">1999</span>, week <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>             output_file <span class="op">=</span> <span class="st">"C:/Users/darthvader/Downloads/cfb_conquest_s2022_w4.png"</span>,</span>
<span>             title <span class="op">=</span> <span class="st">"College Football Conquest - Season 1999 Week 4"</span>,</span>
<span>             credit <span class="op">=</span> <span class="st">"Landon Getting"</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://github.com/Landon-Getting/homefield-graphics/blob/main/conquest_map.png?raw=true"></p>
<p>Since Iowa State University defeated UNLV in week 3 of the 1999
season, they gained UNLV’s territory.</p>
<p><code><a href="../reference/cfb_conquest.html">cfb_conquest()</a></code> has an additional argument,
<code>division</code>, that allows NCAA D1 FCS teams to start with land
in addition to the FBS teams.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="summarizing-maps">Summarizing Maps<a class="anchor" aria-label="anchor" href="#summarizing-maps"></a>
</h2>
<p><code><a href="../reference/homefield_stats.html">homefield_stats()</a></code> generates summary statistics about a
particular map including the total land, water, and population within
each entity’s territory.</p>
<p>The same dataframe input used in <code><a href="../reference/homefield_map.html">homefield_map()</a></code> can be
used in <code><a href="../reference/homefield_stats.html">homefield_stats()</a></code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cfb_undefeated_s1999_w4_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/homefield_stats.html">homefield_stats</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">1999</span>, week <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cfb_undefeated_s1999_w4_stats</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;           entity         land       water       domain      pop</span></span>
<span><span class="co">#&gt; 1      Air Force 610234978656  2533273302 612768251958  6638127</span></span>
<span><span class="co">#&gt; 2       Arkansas 186833484833  4234865393 191068350226  5122951</span></span>
<span><span class="co">#&gt; 3         Auburn 106215319059  4688840187 110904159246  4365585</span></span>
<span><span class="co">#&gt; 4            BYU 292222970451  1844563724 294067534175  1448537</span></span>
<span><span class="co">#&gt; 5 Boston College 223771886456 31278621299 255050507755 31475972</span></span>
<span><span class="co">#&gt; 6  East Carolina 104201019210 15782222629 119983241839  7592900</span></span></code></pre>
<p>These summary statistics can be used to further explore the data and
answer questions like:</p>
<ul>
<li>Which teams had the most territory at the start of the season?</li>
<li>Did any teams control more water than land in week 7?</li>
<li>What were the top 5 teams by population located within their
territory?</li>
</ul>
<p><code><a href="../reference/homefield_stats.html">homefield_stats()</a></code> can be paired with the dplyr package
to answer the last question.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice_max</a></span><span class="op">(</span><span class="va">cfb_undefeated_s1999_w4_stats</span>, <span class="co"># output from homefield_stats()</span></span>
<span>                 order_by <span class="op">=</span> <span class="va">pop</span>, <span class="co"># sorting by population</span></span>
<span>                 n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="co"># top 5</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">entity</span>, <span class="co"># selecting only entity and pop columns</span></span>
<span>                <span class="va">pop</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;           entity      pop</span></span>
<span><span class="co">#&gt; 1 Boston College 31475972</span></span>
<span><span class="co">#&gt; 2  East Carolina  7592900</span></span>
<span><span class="co">#&gt; 3      Air Force  6638127</span></span>
<span><span class="co">#&gt; 4       Arkansas  5122951</span></span>
<span><span class="co">#&gt; 5         Auburn  4365585</span></span></code></pre>
<div class="section level3">
<h3 id="map-stats-over-time">Map Stats over Time<a class="anchor" aria-label="anchor" href="#map-stats-over-time"></a>
</h3>
<p><code><a href="../reference/homefield_stats.html">homefield_stats()</a></code> can also create summary statistics for
maps over time using the <em>temporal</em> argument. For example,
<code><a href="../reference/homefield_stats.html">homefield_stats()</a></code> can be combined with
<code><a href="../reference/cfb_undefeated.html">cfb_undefeated()</a></code> to show statistics over the course of a
season.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># undefeated for each week, 0 through 15</span></span>
<span><span class="va">cfb_undefeated_2022</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">4</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">5</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">6</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">8</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">10</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">11</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">12</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">13</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">14</span><span class="op">)</span>,</span>
<span>                            <span class="fu"><a href="../reference/cfb_undefeated.html">cfb_undefeated</a></span><span class="op">(</span>season <span class="op">=</span> <span class="fl">2022</span>, week <span class="op">=</span> <span class="fl">15</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># date of each week</span></span>
<span><span class="va">cfb_dates_2022</span> <span class="op">&lt;-</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2022-08-27"</span>,</span>
<span>                                   <span class="st">"2022-09-03"</span>,</span>
<span>                                   <span class="st">"2022-09-10"</span>,</span>
<span>                                   <span class="st">"2022-09-17"</span>,</span>
<span>                                   <span class="st">"2022-09-24"</span>,</span>
<span>                                   <span class="st">"2022-10-1"</span>,</span>
<span>                                   <span class="st">"2022-10-8"</span>,</span>
<span>                                   <span class="st">"2022-10-15"</span>,</span>
<span>                                   <span class="st">"2022-10-22"</span>,</span>
<span>                                   <span class="st">"2022-10-29"</span>,</span>
<span>                                   <span class="st">"2022-11-5"</span>,</span>
<span>                                   <span class="st">"2022-11-12"</span>,</span>
<span>                                   <span class="st">"2022-11-19"</span>,</span>
<span>                                   <span class="st">"2022-11-26"</span>,</span>
<span>                                   <span class="st">"2022-12-3"</span>,</span>
<span>                                   <span class="st">"2022-12-10"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cfb_undefeated_2022_stats</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/homefield_stats.html">homefield_stats</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">cfb_undefeated_2022</span>,</span>
<span>                                  temporal <span class="op">=</span> <span class="va">cfb_dates_2022</span>,</span>
<span>                                  keep_max <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                                  keep_visuals <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p>Converting the output of square meters to square miles.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># converting land from square meters to square miles</span></span>
<span><span class="va">cfb_undefeated_2022_stats</span> <span class="op">&lt;-</span> <span class="va">cfb_undefeated_2022_stats</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>land <span class="op">=</span> <span class="va">land</span><span class="op">/</span><span class="fl">2.59e6</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">entity</span>,</span>
<span>                <span class="va">land</span>,</span>
<span>                <span class="va">time</span>,</span>
<span>                <span class="va">color</span>,</span>
<span>                <span class="va">image</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cfb_undefeated_2022_stats</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;              entity      land       time   color</span></span>
<span><span class="co">#&gt; 1         Air Force 73410.774 2022-08-27 #004a7b</span></span>
<span><span class="co">#&gt; 2             Akron  5384.247 2022-08-27 #84754e</span></span>
<span><span class="co">#&gt; 3           Alabama  9698.773 2022-08-27 #690014</span></span>
<span><span class="co">#&gt; 4 Appalachian State 11482.544 2022-08-27 #000000</span></span>
<span><span class="co">#&gt; 5           Arizona 23098.589 2022-08-27 #002449</span></span>
<span><span class="co">#&gt; 6     Arizona State 66025.140 2022-08-27 #942139</span></span>
<span><span class="co">#&gt;                                                     image</span></span>
<span><span class="co">#&gt; 1 http://a.espncdn.com/i/teamlogos/ncaa/500-dark/2005.png</span></span>
<span><span class="co">#&gt; 2      http://a.espncdn.com/i/teamlogos/ncaa/500/2006.png</span></span>
<span><span class="co">#&gt; 3  http://a.espncdn.com/i/teamlogos/ncaa/500-dark/333.png</span></span>
<span><span class="co">#&gt; 4      http://a.espncdn.com/i/teamlogos/ncaa/500/2026.png</span></span>
<span><span class="co">#&gt; 5        http://a.espncdn.com/i/teamlogos/ncaa/500/12.png</span></span>
<span><span class="co">#&gt; 6         http://a.espncdn.com/i/teamlogos/ncaa/500/9.png</span></span></code></pre>
<p>The dataframe output has summary statistics for each team and week.
In this example, the population within Alabama’s territory increases
throughout the season.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cfb_undefeated_2022_stats</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">entity</span> <span class="op">==</span> <span class="st">"Alabama"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">entity</span>, <span class="va">pop</span>, <span class="va">time</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;    entity     pop       time</span></span>
<span><span class="co">#&gt; 1 Alabama  429223 2022-08-27</span></span>
<span><span class="co">#&gt; 2 Alabama  452185 2022-09-03</span></span>
<span><span class="co">#&gt; 3 Alabama 2463971 2022-09-10</span></span>
<span><span class="co">#&gt; 4 Alabama 4137329 2022-09-17</span></span>
<span><span class="co">#&gt; 5 Alabama 8449732 2022-09-24</span></span>
<span><span class="co">#&gt; 6 Alabama 9614778 2022-10-01</span></span></code></pre>
<p>The outputted summary data from <code><a href="../reference/homefield_stats.html">homefield_stats()</a></code> can be
used to create other graphics describing the maps. The homefield package
has a built-in function to visualize the state of homefield maps over
time - <code><a href="../reference/homefield_racing.html">homefield_racing()</a></code>.</p>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="visualizing-stats">Visualizing Stats<a class="anchor" aria-label="anchor" href="#visualizing-stats"></a>
</h2>
<p><code><a href="../reference/homefield_racing.html">homefield_racing()</a></code> generates a racing bar chart
animation where entities compete for the top 10 spots based on summary
statistics from <code><a href="../reference/homefield_stats.html">homefield_stats()</a></code>.</p>
<p>For example, the output dataframe from <code><a href="../reference/homefield_stats.html">homefield_stats()</a></code>
describing the 2022 college football season can be visualized with the
<code><a href="../reference/homefield_racing.html">homefield_racing()</a></code> function. As teams gain territory, they
appear higher on chart. However, when a team loses, they are removed
from the chart. This can show the impact of triumphant victories or
heartbreaking defeats.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/homefield_racing.html">homefield_racing</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">cfb_undefeated_2022_stats</span>,</span>
<span>                stat_name <span class="op">=</span> <span class="st">"land"</span>,</span>
<span>                title <span class="op">=</span> <span class="st">"2022 Season Week by Week - Undefeated CFB homefield Map"</span>,</span>
<span>                subtitle <span class="op">=</span> <span class="st">"Area in Square Miles"</span>,</span>
<span>                caption <span class="op">=</span> <span class="st">"Data Source: cfbd.com"</span>,</span>
<span>                output_file <span class="op">=</span> <span class="st">"C:/Users/darthvader/Downloads/cfb_undefeated_2022_racing.gif"</span><span class="op">)</span></span></code></pre></div>
<p><img src="https://github.com/Landon-Getting/homefield-graphics/blob/main/homefield_racing.gif?raw=true"></p>
<hr>
</div>
<div class="section level2">
<h2 id="interactive-maps">Interactive Maps<a class="anchor" aria-label="anchor" href="#interactive-maps"></a>
</h2>
<p><code><a href="../reference/homefield_shiny.html">homefield_shiny()</a></code> showcases several functions from the
homefield package in an interactive application visualizing College
Football seasons. Users can choose a type of map, season, and week and
the homefield map will be automatically generated.</p>
<p><img src="https://github.com/Landon-Getting/homefield-graphics/blob/main/homefield_shiny.png?raw=true"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Landon Getting, Sudesh Bhagat.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
